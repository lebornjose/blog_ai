# 页面管理模块

## 概述

页面管理模块用于管理网站的静态页面内容，如"关于我们"、"联系我们"等单页面。

## 数据库结构

表名：`page`

| 字段名 | 类型 | 长度 | 说明 | 约束 |
|--------|------|------|------|------|
| page_id | varchar | 24 | 页面ID | 主键 |
| title | varchar | 30 | 页面标题 | 非空 |
| describe | varchar | 500 | 页面描述 | 可空 |
| content | text | - | 页面内容 | 可空 |

## 后端 API

### 基础路径
`/api/pages`

### 接口列表

#### 1. 获取页面列表（分页）
- **URL**: `GET /api/pages/list`
- **权限**: 公开访问
- **参数**:
  - `page`: 页码（默认：1）
  - `pageSize`: 每页数量（默认：10）
  - `keyword`: 搜索关键字（可选）
  - `sortBy`: 排序字段（默认：page_id）
  - `sortOrder`: 排序方向（ASC/DESC，默认：DESC）
- **返回**: 分页的页面列表

#### 2. 获取所有页面（不分页）
- **URL**: `GET /api/pages/all`
- **权限**: 公开访问
- **返回**: 所有页面的简要信息（ID、标题、描述）

#### 3. 获取单个页面详情
- **URL**: `GET /api/pages/:id`
- **权限**: 公开访问
- **返回**: 页面完整信息

#### 4. 创建页面
- **URL**: `POST /api/pages`
- **权限**: 需要管理员权限
- **请求体**:
  ```json
  {
    "title": "页面标题",
    "describe": "页面描述",
    "content": "页面内容（HTML）"
  }
  ```

#### 5. 更新页面
- **URL**: `PUT /api/pages/:id`
- **权限**: 需要管理员权限
- **请求体**:
  ```json
  {
    "title": "页面标题",
    "describe": "页面描述",
    "content": "页面内容（HTML）"
  }
  ```

#### 6. 删除页面
- **URL**: `DELETE /api/pages/:id`
- **权限**: 需要管理员权限

#### 7. 批量删除页面
- **URL**: `POST /api/pages/batch-delete`
- **权限**: 需要管理员权限
- **请求体**:
  ```json
  {
    "ids": ["page_id_1", "page_id_2"]
  }
  ```

## 前端功能

### 页面路径
`/pages`

### 功能特性

1. **页面列表展示**
   - 表格形式展示所有页面
   - 支持分页浏览
   - 显示标题、描述、内容预览

2. **搜索功能**
   - 支持按标题或描述搜索
   - 实时搜索

3. **创建页面**
   - 标题输入（最多30字符）
   - 描述输入（最多500字符）
   - 富文本编辑器编辑内容（Quill）

4. **编辑页面**
   - 加载现有页面数据
   - 富文本编辑器支持
   - 实时保存

5. **删除功能**
   - 单个删除（带确认）
   - 批量删除（带确认）

6. **富文本编辑器**
   - 使用 Quill 编辑器
   - 支持标题、粗体、斜体、下划线等格式
   - 支持有序列表、无序列表
   - 支持颜色、背景色
   - 支持对齐方式
   - 支持插入链接和图片

## 文件结构

### 后端
```
blog_serve/src/
├── controllers/
│   └── page.controller.js          # 页面控制器
└── routes/
    └── page.routes.js               # 页面路由
```

### 前端
```
blog_admin/src/
├── api/
│   └── page.js                      # 页面 API 服务
└── views/
    └── pages/
        └── PageList.vue             # 页面列表组件
```

## 使用说明

1. **创建新页面**
   - 点击"新建页面"按钮
   - 填写标题和描述
   - 使用富文本编辑器编辑内容
   - 点击"确定"保存

2. **编辑页面**
   - 在列表中找到要编辑的页面
   - 点击"编辑"按钮
   - 修改内容后点击"确定"保存

3. **删除页面**
   - 单个删除：点击页面行的"删除"按钮
   - 批量删除：选中多个页面后点击"批量删除"

## 权限说明

- **读取操作**（GET）：公开访问，无需登录
- **写入操作**（POST/PUT/DELETE）：需要管理员权限（rate >= 50）

## 注意事项

1. page_id 使用 UUID 生成（取前24位）
2. 标题字段限制30个字符
3. 描述字段限制500个字符
4. 内容字段为 TEXT 类型，支持大量内容
5. 富文本编辑器输出 HTML 格式内容
6. 所有管理操作都需要管理员权限验证
